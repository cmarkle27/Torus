<!DOCTYPE HTML>
<html>
<head>
<title>Torus 0.1.1</title>
<script type="text/javascript" src="js/Blockus.js"></script>
<script type="text/javascript" src="js/Toroid.js"></script>
<style type="text/css">
	canvas {
		border: solid 1px #ccc;
	}
</style>
</head>

<body>
<canvas id="torusScreen" width="500" height="600"></canvas>
<!-- 
grid
0,0|1,0|2,0
1,0|1,1|2,1


-->


<script type="text/javascript">

// global vars
var canvas = document.getElementById("torusScreen");
var context = canvas.getContext("2d");

var blockus = new Blockus();
var toroid = new Toroid();

function gameLoop() {
	setTimeout(function() {
		if (blockus.checkPath(toroid.blocks)) {
			toroid.fall();
			gameLoop();
		} else {
			// add it to blockus
			blockus.add(toroid.blocks);
		}
	}, toroid.speed);
}

// ------------------------------------------------------------------------

// onload
window.onload = function() {
    
	gameLoop();
    
};

</script>
</body>
</html>
